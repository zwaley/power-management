字段字典与别名映射（Canonical Schema v0.1 Draft）

适用范围
- Excel《设备表.xlsx》的“设备”、“连接”两张表
- 数据库模型与后端接口输出
- 前端“设备拓扑/端口拓扑”渲染与详情面板

总体约定
- 设备主键统一：`asset_id`
- 端口主键统一：`port_code`（同一设备内唯一）；如需自然名，补充 `port_name`
- 节点ID规范：
  - 设备节点：`device:<asset_id>`
  - 端口节点：`port:<asset_id>:<port_code>`
- 连接边ID规范：`conn:<from_node_id>-><to_node_id>` 或 `conn:<asset_id>:<port_code>-><asset_id>:<port_code>`

设备字段规范
- 规范字段（前端/接口统一使用）：
  - `asset_id`：设备唯一业务ID（字符串）
  - `name`：设备名称（字符串）
  - `model`：设备型号（字符串）
  - `vendor`：生产厂家（字符串）
  - `power_rating`：额定容量（字符串，如“60kVA”或“80A”）
  - `station`：局站/位置（字符串）
  - `commission_date`：投产日期（`YYYY-MM-DD`）
  - `lifecycle_status`：生命周期状态（`在役` | `退役` | `计划` | `维修` 等）
- 别名映射（Excel/数据库→规范字段）：
  - `name` ← `device_name` | `设备名称`
  - `model` ← `device_model` | `型号`
  - `vendor` ← `manufacturer` | `厂家` | `生产厂家`
  - `power_rating` ← `rated_capacity` | `额定容量`
  - `station` ← `location` | `局站` | `所在局站`
  - `commission_date` ← `in_service_date` | `投产日期`
  - `lifecycle_status` ← `lifecycle_status_text` | `生命周期状态`

端口字段规范
- 规范字段：
  - `asset_id`：所属设备ID（字符串）
  - `port_code`：端口编码（同设备内唯一，字符串，如“F1”）
  - `port_name`：端口名称（可选，如“馈路1”）
  - `status`：端口状态（`在用` | `空闲` | `预约` 等）
- 别名映射：
  - `port_code` ← `port_id` | `port` | `端口编码`
  - `port_name` ← `port_label` | `端口名称`
  - `status` ← `port_status` | `状态`
- 节点ID：`port:<asset_id>:<port_code>`（前端渲染与边引用统一）

连接边字段规范
- 规范字段：
  - `from`：起点节点ID（通常为端口节点ID）
  - `to`：终点节点ID（端口节点ID）
  - `connection_type`：连接类型（`AC` | `DC` | `Signal` 等）
  - `upstream_downstream`：上下游方向（`上游` | `下游`）
  - `cable_model`：线缆型号（字符串，如“VV-2x35mm²”）
  - `rated_current`：额定电流（数值，单位 A）
  - `installation_date`：安装日期（`YYYY-MM-DD`，可选）
- 别名映射：
  - `connection_type` ← `cable_type` | `电力类型`
  - `upstream_downstream` ← `direction` | `上游/下游`
  - `cable_model` ← `wire_model` | `线缆型号`
  - `rated_current` ← `a_rated_current` | `b_rated_current`（规则：若存在显式单值字段，优先；否则依据业务规则聚合）

枚举与单位显示统一
- `lifecycle_status`：统一中文枚举；内部若使用英文枚举（如 `IN_SERVICE`），在接口层转换为中文展示值
- `connection_type`：规范为 `AC`、`DC`、`Signal`；别名映射层将“交流/直流/信号”归一
- `power_rating`：用字符串携带数值+单位（如“60kVA”、“80A”），避免前端重复单位处理
- `rated_current`：仅数值（A）；前端统一以“A”展示单位

前端取值优先级（详情面板）
1. 使用接口返回的规范字段（设备/端口/连接）
2. 若缺失，使用后端设备静态清单或缓存中的同名字段
3. 若仍缺失，展示占位“—”或“未提供”，不再拼接别名

ID与显示规则
- 节点`label`：设备用短名或截断名；端口用 `port_code`
- 设备中心节点详情优先展示：`name`、`model`、`vendor`、`power_rating`、`station`、`commission_date`、`lifecycle_status`
- 端口节点详情：`port_code`、`port_name`、`status`；如对端信息可按需展开

版本与维护
- 当前版本：v0.1（Draft）
- 维护方式：若Excel或数据库新增列名，先在“别名映射”节登记，再评估是否提升为规范字段
- 变更记录：在本文件底部追加“变更历史”小节描述修改点与影响范围

附：节点与边示例
```
设备节点：
{ "id": "device:ASSET_13", "type": "device", "label": "新大楼…E15",
  "name": "新大楼一楼综合机房_1#直流系统直配屏E15",
  "model": "配电屏E15", "vendor": "XX厂家", "power_rating": "60kVA",
  "station": "新大楼一楼", "commission_date": "2023-06-01", "lifecycle_status": "在役" }

端口节点：
{ "id": "port:ASSET_13:F1", "type": "port", "label": "F1",
  "asset_id": "ASSET_13", "port_code": "F1", "status": "在用" }

连接边：
{ "id": "conn:ASSET_13:F1->ASSET_22:P18", "from": "port:ASSET_13:F1",
  "to": "port:ASSET_22:P18", "connection_type": "DC",
  "upstream_downstream": "下游", "cable_model": "VV-2x35mm²",
  "rated_current": 80, "installation_date": "2022-08-10" }
```